<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููุญุฉ ุงููุญุชุงุฌ</title>
    <!-- Normalize  File  -->
    <link rel="stylesheet" href="css/normalize.css">
    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Arabic:wght@300;400;500;600;700&family=Open+Sans:wdth,wght@75..100,300..800&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

    <!-- CSS File -->
    <link rel="stylesheet" href="css/header&footer.css">
    <!-- <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script> -->
    <link rel="stylesheet" href="css/needy-dashboard.css">
</head>
<body>    
    
    <div class="header">
        <a class="logo" href="">
            <img src="img/Group.png" alt="logo">
            <h3>ูุตุงู</h3>
        </a>
        <ul class="links">
            <li><a href="landing.htm">ุงูุฑุฆูุณูุฉ</a></li>
            <li><a href="how.htm">ููู ูุนูู ุงููููุน</a></li>
            <li><a href="volunteer.html">ุชุทูุน ูุนูุง </a></li>
            <li><a href="needy-dashboard.htm">ุญุณุงุจู</a></li>
            <li><a href="my-request.htm">ุทูุจุงุชู</a></li>
            <li><a href="withdraw-request.html">ุณุญุจ ุชุจุฑุนุงุชู</a></li>
            <li><a href="request-help.htm">ุทูุจ ุงููุณุงุนุฏุฉ</a></li>
            <li><a href="us.html">ูู ูุญูุ</a></li>
            <li><a href="contact-us.htm">ุชูุงุตู ูุนูุง</a></li>
        </ul>
        <div class="log-btn">
            <button id="logout" class="logout">ุชุณุฌูู ุงูุฎุฑูุฌ</button>
        </div>
        <!-- ุฒุฑ ุงููุงุฆูุฉ (โฐ) -->
        <div class="menu-toggle">&#9776;</div>
    </div>

    <div class="dashboard-container">
        <div class="dashboard-header">
            <div class="user-info">
                <strong id="needy-name">ุงููุณุชุฎุฏู</strong>
                <span id="needy-email">email@example.com</span>
            </div>

            <div class="notification-wrapper">
                <button id="notification-icon" class="notification-icon">
                    <i class="fas fa-bell"></i>
                </button>
                <div class="notification-dropdown" id="notification-dropdown">
                        <!-- <div class="notification">
                        ุชู ูุจูู ุทูุจู ุจูุฌุงุญ.
                        <span>ูุจู ุฏูููุฉ ูุงุญุฏุฉ</span>
                        <button class="delete-btn" onclick="this.parentElement.remove()">ร</button>
                    </div> -->
                    <div class="notification-header">
                        <button id="clear-notifications">ูุณุญ ุงููู ๐๏ธ</button>
                    </div>
                    ุงูุฅุดุนุงุฑุงุช ุณุชูุถุงู ููุง 
                </div>
            </div>
        </div>
        <div class="card-grid">
        <div class="dashboard-card clickable"  onclick="location.href='my-request.htm'">
            <i class="fas fa-folder-open card-icon"></i>
            <h3>ุทูุจุงุชู ุงูุณุงุจูุฉ</h3>
            <p>ุนุฑุถ ููุชุงุจุนุฉ ุฌููุน ุทูุจุงุช ุงููุณุงุนุฏุฉ</p>
        </div>
        <div class="dashboard-card clickable"  onclick="location.href='request-help.htm'">
            <i class="fas fa-paper-plane card-icon"></i>
            <h3>ุฅุฑุณุงู ุทูุจ ุฌุฏูุฏ</h3>
            <p>ุงููุฃ ุงููููุฐุฌ ูุทูุจ ูุณุงุนุฏุฉ ุฌุฏูุฏุฉ</p>
        </div>
        <div class="dashboard-card clickable" style="cursor: no-drop;">
            <i class="fas fa-money-check-alt card-icon"></i> 
            <h3>ุงูุชุจุฑุนุงุช ุงููุณุชููุฉ</h3>
            <p id="donation-total">0 ุดููู</p>
        </div>
        <div class="dashboard-card clickable" onclick="location.href='withdraw-request.html'">
            <i class="fas fa-cash-register card-icon"></i>     <!-- ูุงูููุฉ ูุงุด -->
            <h3>ุทูุจ ุณุญุจ ูุจูุบ</h3>
            <p>ุงุณุญุจ ุฑุตูุฏู ุงููุชููุฑ ููุฏูุง ุฃู ุนุจุฑ ุงูุจูู</p>
        </div>
        <div class="dashboard-card clickable">
            <i class="fas fa-cog card-icon"></i>
            <h3>ุงูุฅุนุฏุงุฏุงุช</h3>
            <p>ุชุญุฏูุซ ุจูุงูุงุช ุงูุญุณุงุจ</p>
        </div>
        <div class="dashboard-card clickable" onclick="location.href='how.htm'">
            <i class="fas fa-headset card-icon"></i>
            <h3>ุชูุงุตู ูุนูุง</h3>
            <p>ุงูุฏุนู ูุงููุณุงุนุฏุฉ</p>
        </div>
        </div>
    </div>  

    <div class="footer">
        <div class="text">
            <div class="logo">
                <img src="img/Group.png" alt="logo">
                <h4>ูุตุงู</h4>
            </div>
            <div class="content">
                ููุตุฉ ุฅูุณุงููุฉ ุชูุฏู ูุฑุจุท ุงููุชุจุฑุนูู ุจุงูุนุงุฆูุงุช ุงููุญุชุงุฌุฉ ุจุทุฑููุฉ ุดูุงูุฉุ ุณููุฉุ ูุขููุฉ.<br> ูุนูู ุนูู ุชุณููู ุฅูุตุงู ุงูุชุจุฑุนุงุช ุจูุฎุชูู ุฃุดูุงููุง ููู ูู ูู ุฃูุณู ุงูุญุงุฌุฉุ ููุคูู ุฃู ูู ูุณุงุนุฏุฉุ ูููุง ูุงูุช ุจุณูุทุฉุ ูุงุฏุฑุฉ ุนูู ุตูุงุนุฉ ูุฑู ุญูููู.
            </div>
        </div>
        <div class="links">
            <div class="box">
                <h4>ุงูุฑูุงุจุท ุงูุณุฑูุนุฉ</h4>
                <a href="landing.htm">ุงูุฑุฆูุณูุฉ</a>
                <a href="how.htm">ููู ูุนูู ุงููููุน</a>
                <a href="volunteer.html">ุชุทูุน ูุนูุง </a>
                <a href="us.html">ูู ูุญูุ</a>
            </div>
            <div class="box">
                <h4>ุงูุดุฑูุท ูุงูุณูุงุณุงุช</h4>
                <a href="">ุงูุดุฑูุท ูุงูุฃุญูุงู</a>
                <a href="">ุณูุงุณูุฉ ุงูุฎุตูุตูุฉ</a>
                <a href="">ุณูุงุณูุฉ ูููุงุช ุชุนุฑูู ุงูุงุฑุชุจุงุท</a>
                <a href="commonQues.htm">ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ</a>
            </div>
            <div class="box">
                <h4>ููุงูุน ุงูุชูุงุตู ุงูุงุฌุชูุงุนู</h4>
                <div class="social">
                    <a href=""><i class="fa-brands fa-facebook-f"></i></a>
                    <a href=""><i class="fa-brands fa-instagram"></i></a>
                    <a href=""><i class="fa-brands fa-x-twitter"></i></a>
                </div>
            </div>
        </div>
        <div class="foot">
            ุฌููุน ุงูุญููู ูุญููุธุฉ ูููุตุฉ ูุตุงู &copy; 2025
        </div>
    </div>    
  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/js/all.min.js"></script> -->
<!--  ูุฐุง ููุท ูุธููุฑ ุงูุงุงุดุนุงุฑุงุช  -->
  <!-- <script>
    const toggleButton = document.getElementById("notification-toggle");
    const dropdown = document.getElementById("notification-dropdown");
    const clearButton = document.getElementById("clear-notifications");

    toggleButton.addEventListener("click", () => {
      dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
    });

    clearButton.addEventListener("click", () => {
      dropdown.innerHTML = "<p style='text-align:center; color:#999;'>ูุง ุชูุฌุฏ ุฅุดุนุงุฑุงุช.</p>";
    });

    window.addEventListener("click", function(e) {
      if (!e.target.closest(".notification-wrapper")) {
        dropdown.style.display = "none";
      }
    });
  </script>  -->
  
  <script>
    document.addEventListener("DOMContentLoaded", () => {
    // ุงุณุชุฑุฏุงุฏ ุงูุงุณู ูุงูุจุฑูุฏ ูู localStorage 
    const name = localStorage.getItem("userName") || "ูุณุชุฎุฏู";
    const email = localStorage.getItem("tempEmail") || "email@example.com";
    // ุนุฑุถ ุงูุงุณู ูุงูุจุฑูุฏ ูู ุงูุตูุญุฉ 
    document.getElementById("needy-name").textContent = name;
    document.getElementById("needy-email").textContent = email;

    //   const donations = JSON.parse(localStorage.getItem("donations")) || [];
    //   const total = donations
    //     .filter((d) => d.needyEmail === email)
    //     .reduce((sum, d) => sum + d.amount, 0);
    // ูููุจูุบ 
    let total = localStorage.getItem("totalDonation")
    document.getElementById("donation-total").textContent = total + " ุดููู";
    // ุฅุดุนุงุฑุงุช ุชุฌุฑูุจูุฉ (ูุฑุฉ ูุงุญุฏุฉ ููุท) 

    const sampleNotifications = [
        { message: "ุชูุช ุงูููุงููุฉ ุนูู ุทูุจ ุงููุณุงุนุฏุฉ ุฑูู 124", date: "2025-05-15" },
        { message: "ูุตูู ุชุจุฑุน ุจูููุฉ 150 ุดููู", date: "2025-05-14" },
        { message: "ุทูุจ ุงูุณุญุจ ููุฏ ุงููุฑุงุฌุนุฉ", date: "2025-05-13" },
    ];

      if (!localStorage.getItem("needyNotifications")) {
        localStorage.setItem("needyNotifications", JSON.stringify(sampleNotifications));
      }

      let notifications = JSON.parse(localStorage.getItem("needyNotifications")) || [];
      const notificationList = document.getElementById("notification-dropdown");

      function renderNotifications() {
        const list = notificationList;
        list.innerHTML = '<div class="notification-header"><button id="clear-notifications">ูุณุญ ุงููู</button></div>';

        if (notifications.length === 0) {
          list.innerHTML += '<div class="no-notification">ูุง ุชูุฌุฏ ุฅุดุนุงุฑุงุช ุญุงููุงู.</div>';
          return;
        }

        notifications.forEach((n, index) => {
          const div = document.createElement("div");
          div.className = "notification";
          div.innerHTML = `
            <p>${n.message}</p>
            <span>${n.date}</span>
            <button class="delete-btn" data-index="${index}">ร</button>
          `;
          list.appendChild(div);
        });

        list.querySelectorAll(".delete-btn").forEach((btn) => {
          btn.addEventListener("click", (e) => {
            const i = e.target.dataset.index;
            notifications.splice(i, 1);
            localStorage.setItem("needyNotifications", JSON.stringify(notifications));
            renderNotifications();
          });
        });

        document.getElementById("clear-notifications").addEventListener("click", () => {
          if (confirm("ูู ุฃูุช ูุชุฃูุฏ ูู ุญุฐู ุฌููุน ุงูุฅุดุนุงุฑุงุชุ")) {
            notifications = [];
            localStorage.removeItem("needyNotifications");
            renderNotifications();
          }
        });
      }

      renderNotifications();

      const bell = document.getElementById("notification-icon");
      bell.addEventListener("click", () => {
        document.getElementById("notification-dropdown").classList.toggle("active");
      });
    });
  </script>
    <script src="js/header.js"></script>
</body>
</html>

