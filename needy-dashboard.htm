<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููุญุฉ ุงููุญุชุงุฌ</title>
        <!-- Normalize  File  -->
        <link rel="stylesheet" href="css/normalize.css">
        <!-- Google Font -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Arabic:wght@300;400;500;600;700&family=Open+Sans:wdth,wght@75..100,300..800&display=swap" rel="stylesheet">
        <!-- Font Awesome -->
         <link rel="stylesheet" href="css/all.min.css">
         <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
         <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    
        <!-- CSS File -->
        <link rel="stylesheet" href="css/header&footer.css">
        <link rel="stylesheet" href="css/needy-dashboard.css" />
</head>
<body>
  <div class="dashboard-container">
    <h2 id="welcome-msg">ูุฑุญุจูุงุ <span id="needy-name"></span> ๐</h2>

    <div class="card-grid">
      <div class="dashboard-card">
        <h3>ุงูุชุจุฑุนุงุช ุงููุณุชููุฉ</h3>
        <p id="donation-total">0 ุดููู</p>
      </div>

      <div class="dashboard-card clickable" onclick="location.href='request-help.htm'">
        <h3>ุชูุฏูู ุทูุจ ูุณุงุนุฏุฉ</h3>
        <p>ุงููุฃ ุงููููุฐุฌ ูุทูุจ ูุณุงุนุฏุฉ ุฌุฏูุฏุฉ</p>
      </div>

      <div class="dashboard-card clickable" onclick="location.href='my-request.htm'">
        <h3>ุทูุจุงุชู ุงูุณุงุจูุฉ</h3>
        <p>ุนุฑุถ ุฌููุน ุทูุจุงุชู</p>
      </div>

      <div class="dashboard-card clickable" onclick="location.href='withdraw-request.html'">
        <h3>ุทูุจ ุณุญุจ ูุจูุบ</h3>
        <p>ุงุณุญุจ ุฑุตูุฏู ุงููุชููุฑ ููุฏูุง ุฃู ุนุจุฑ ุงูุจูู</p>
      </div>
    </div>
    <h3 class="section-title">๐ข ุฅุดุนุงุฑุงุชู</h3>
    <div class="notification-header">
    <button id="clear-notifications">๐๏ธ ุญุฐู ุงููู</button>
    </div>
    <div id="notifications" class="notification-list">
    <!-- ุงูุฅุดุนุงุฑุงุช ุชุธูุฑ ููุง -->
    </div>

</div>

  <!-- <script>
    document.addEventListener("DOMContentLoaded", () => {
    // ุงุณุชุฑุฏุงุฏ ุงูุจูุงูุงุช ูู localStorage
    
    const user = JSON.parse(localStorage.getItem("currentNeedy")) || { name: "ูุณุชุฎุฏู" };
    document.getElementById("needy-name").textContent = user.name;

    const donations = JSON.parse(localStorage.getItem("donations")) || [];
    const total = donations
      .filter((d) => d.needyEmail === user.email)
      .reduce((sum, d) => sum + d.amount, 0);
    document.getElementById("donation-total").textContent = total + " ุดููู";

        // ุฅุดุนุงุฑุงุช ุชุฌุฑูุจูุฉ
    const sampleNotifications = [
    { message: "ุชูุช ุงูููุงููุฉ ุนูู ุทูุจ ุงููุณุงุนุฏุฉ ุฑูู 124", date: "2025-05-15" },
    { message: "ูุตูู ุชุจุฑุน ุจูููุฉ 150 ุดููู", date: "2025-05-14" },
    { message: "ุทูุจ ุงูุณุญุจ ููุฏ ุงููุฑุงุฌุนุฉ", date: "2025-05-13" },
    ];

    // ุชุฎุฒูู ูุคูุช ููุท ูุฃูู ูุฑุฉ
    if (!localStorage.getItem("needyNotifications")) {
    localStorage.setItem("needyNotifications", JSON.stringify(sampleNotifications));
    }

    let notifications = JSON.parse(localStorage.getItem("needyNotifications")) || [];
    const notificationList = document.getElementById("notifications");

    // ุนุฑุถ ุงูุฅุดุนุงุฑุงุช
    function renderNotifications() {
    notificationList.innerHTML = "";

    if (notifications.length === 0) {
        notificationList.innerHTML = "<p>ูุง ุชูุฌุฏ ุฅุดุนุงุฑุงุช ุญุงููุงู.</p>";
        return;
    }

    notifications.forEach((n, index) => {
        const div = document.createElement("div");
        div.className = "notification";
        div.innerHTML = `
        <p>${n.message}</p>
        <span>${n.date}</span>
        <button class="delete-btn" data-index="${index}">ร</button>
        `;
        notificationList.appendChild(div);
    });

    // ุฑุจุท ุฒุฑ ุงูุญุฐู ุจูู ุฅุดุนุงุฑ
    const deleteBtns = document.querySelectorAll(".delete-btn");
    deleteBtns.forEach((btn) => {
        btn.addEventListener("click", (e) => {
        const i = e.target.dataset.index;
        notifications.splice(i, 1);
        localStorage.setItem("needyNotifications", JSON.stringify(notifications));
        renderNotifications();
        });
    });
    }

    renderNotifications();

    // ุฒุฑ ุญุฐู ุงููู
    const clearBtn = document.getElementById("clear-notifications");
    clearBtn.addEventListener("click", () => {
    if (confirm("ูู ุฃูุช ูุชุฃูุฏ ูู ุญุฐู ุฌููุน ุงูุฅุดุนุงุฑุงุชุ")) {
        notifications = [];
        localStorage.removeItem("needyNotifications");
        renderNotifications();
    }
    });

});
  </script> -->
  <script> document.addEventListener("DOMContentLoaded", () => {
     // ุงุณุชุฑุฏุงุฏ ุงูุงุณู ูุงูุจุฑูุฏ ูู localStorage 
     const userName = localStorage.getItem("userNameNeedy") || "ูุณุชุฎุฏู"; 
     const userEmail = localStorage.getItem("tempEmail") || ""; 
     // ุนุฑุถ ุงูุงุณู ูู ุงูุตูุญุฉ 
     document.getElementById("needy-name").textContent = userName; 
     // ุญุณุงุจ ูุฌููุน ุงูุชุจุฑุนุงุช ููุฐุง ุงููุญุชุงุฌ 
     const donations = JSON.parse(localStorage.getItem("donations")) || []; 
     const total = donations .filter((d) => d.needyEmail === userEmail).reduce((sum, d) => sum + d.amount, 0); 
     document.getElementById("donation-total").textContent = total + " ุดููู"; 
     // ุฅุดุนุงุฑุงุช ุชุฌุฑูุจูุฉ (ูุฑุฉ ูุงุญุฏุฉ ููุท) 
     const sampleNotifications = [ 
     { message: "ุชูุช ุงูููุงููุฉ ุนูู ุทูุจ ุงููุณุงุนุฏุฉ ุฑูู 124", date: "2025-05-15" }, 
     { message: "ูุตูู ุชุจุฑุน ุจูููุฉ 150 ุดููู", date: "2025-05-14" }, 
     { message: "ุทูุจ ุงูุณุญุจ ููุฏ ุงููุฑุงุฌุนุฉ", date: "2025-05-13" }, 
        ]; 
    if (!localStorage.getItem("needyNotifications")){
            localStorage.setItem("needyNotifications", 
            JSON.stringify(sampleNotifications)); 
        } 
    let notifications = JSON.parse(localStorage.getItem("needyNotifications")) || []; 
    const notificationList = document.getElementById("notifications"); 
    // ุนุฑุถ ุงูุฅุดุนุงุฑุงุช 
    function renderNotifications() { 
        notificationList.innerHTML = ""; 
        if (notifications.length === 0) { 
            notificationList.innerHTML = "<p>ูุง ุชูุฌุฏ ุฅุดุนุงุฑุงุช ุญุงููุงู.</p>"; 
            return; 
        } 
        notifications.forEach((n, index) => { 
            const div = document.createElement("div"); 
            div.className = "notification"; 
            div.innerHTML = ` 
                <p>${n.message}</p> <span>${n.date}</span> 
                <button class="delete-btn" data-index="${index}">ร</button> `; 
            notificationList.appendChild(div); }); 
            // ุฑุจุท ุฒุฑ ุงูุญุฐู 
            const deleteBtns = document.querySelectorAll(".delete-btn"); 
            deleteBtns.forEach((btn) => { 
                btn.addEventListener("click", (e) => { 
                    const i = e.target.dataset.index; 
                    notifications.splice(i, 1); 
                    localStorage.setItem("needyNotifications", JSON.stringify(notifications)); 
                    renderNotifications(); 
                }); 
            });
        } 
        renderNotifications(); 
        // ุฒุฑ ุญุฐู ูู ุงูุฅุดุนุงุฑุงุช 
        const clearBtn = document.getElementById("clear-notifications"); 
        clearBtn.addEventListener("click", () => { 
            if (confirm("ูู ุฃูุช ูุชุฃูุฏ ูู ุญุฐู ุฌููุน ุงูุฅุดุนุงุฑุงุชุ")) { 
                notifications = []; 
                localStorage.removeItem("needyNotifications"); 
                renderNotifications(); 
                } 
                }); 
                }); 
</script>
</body>
</html>
